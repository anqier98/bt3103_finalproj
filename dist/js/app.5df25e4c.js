(function(t){function e(e){for(var a,i,o=e[0],c=e[1],l=e[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&f.push(r[i][0]),r[i]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);u&&u(e);while(f.length)f.shift()();return n.push.apply(n,l||[]),s()}function s(){for(var t,e=0;e<n.length;e++){for(var s=n[e],a=!0,o=1;o<s.length;o++){var c=s[o];0!==r[c]&&(a=!1)}a&&(n.splice(e--,1),t=i(i.s=s[0]))}return t}var a={},r={app:0},n=[];function i(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=a,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(s,a,function(e){return t[e]}.bind(null,a));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"034f":function(t,e,s){"use strict";s("85ec")},"0359":function(t,e,s){t.exports=s.p+"img/user-icon.7ea4af7d.png"},"0509":function(t,e,s){"use strict";s("eb78")},"0710":function(t,e,s){"use strict";s("70b6")},"0ed3":function(t,e,s){},"0f8b":function(t,e,s){"use strict";s("231f")},"114e":function(t,e,s){},"1cf7":function(t,e,s){},"231f":function(t,e,s){},"3ea9":function(t,e,s){},"3f04":function(t,e,s){"use strict";s("a2e0")},"44ce":function(t,e,s){"use strict";s("8dcf")},"45cc":function(t,e,s){"use strict";s("e4b8")},4678:function(t,e,s){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(t){var e=n(t);return s(e)}function n(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=n,t.exports=r,r.id="4678"},"534f":function(t,e,s){t.exports=s.p+"img/logo1.8079a5d1.png"},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[["/","/login","/signup","/merchant-login","/merchant-inputs","/forgot-password"].includes(t.$route.path)?t._e():s("app-header"),s("router-view")],1)},n=[],i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("ul",[a("li",[a("router-link",{attrs:{to:"/home",exact:"",userid:this.$route.params.userid}},[t._v("Home")])],1),a("li",[a("router-link",{attrs:{to:"/profile",exact:"",userid:this.$route.params.userid}},[t._v("Profile")])],1),a("li",[a("router-link",{attrs:{to:"/leaderboard",exact:"",userid:this.$route.query.userid}},[t._v("Leaderboard")])],1),a("li",[a("router-link",{attrs:{to:"/rewards",exact:"",userid:this.$route.params.userid}},[t._v("Rewards")])],1),a("router-link",{attrs:{to:"/home",exact:""}},[a("img",{staticStyle:{width:"200px"},attrs:{src:s("cf05"),alt:"not found"}})]),a("li",[a("router-link",{attrs:{to:"/newsroom",exact:""}},[t._v("Newsroom")])],1),a("li",[a("router-link",{attrs:{to:"/history",exact:"",userid:this.$route.params.userid}},[t._v("History")])],1),a("li",[a("router-link",{attrs:{to:"/help",exact:""}},[t._v("Help")])],1),a("li",[a("a",{staticClass:"nav-link",on:{click:function(e){return e.preventDefault(),t.signOut(e)}}},[t._v("Sign out")])])],1)])},o=[],c=(s("5319"),s("ac1f"),s("2591")),l={methods:{signOut:function(){var t=this;c["a"].auth().signOut().then((function(){t.$router.replace({path:"/"})}))}}},u=l,d=(s("7286"),s("2877")),f=Object(d["a"])(u,i,o,!1,null,"37572999",null),h=f.exports,m={name:"App",components:{"app-header":h}},p=m,v=(s("034f"),Object(d["a"])(p,r,n,!1,null,null,null)),b=v.exports,_=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"container"}},[t._m(0),a("div",{attrs:{id:"all_buttons"}},[a("h1",[t._v(" Welcome Back! ")]),a("div",{attrs:{id:"users"}},[a("button",{on:{click:t.toUserLogin}},[a("img",{staticClass:"icons",attrs:{src:s("0359")}}),t._v(" User Login")]),a("br")]),a("div",{attrs:{id:"merchants"}},[a("button",{on:{click:t.toMerchantLogin}},[a("img",{staticClass:"icons",attrs:{src:s("72c6")}}),t._v(" Merchant Login")])])])])},g=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"logo"}},[a("img",{staticClass:"logo",attrs:{src:s("534f")}}),a("p",[t._v("Say no to single-use plastics, "),a("br"),t._v("switch to reusable.")])])}],w={methods:{toUserLogin:function(){this.$router.push("/login")},toMerchantLogin:function(){this.$router.push("/merchant-login")}}},j=w,y=(s("9a99"),Object(d["a"])(j,_,g,!1,null,"ef348b1a",null)),k=y.exports,C=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("img",{attrs:{src:"https://i.postimg.cc/3x2ksmnP/forest-bathing.jpg"}}),s("div",{staticClass:"login"},[s("h3",[s("Strong",[t._v("Login")])],1),s("br"),s("p",[t._v(" email: happy21@gmail.com ")]),s("p",[t._v(" ps: L1234567x! ")]),t.error?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.error))]):t._e(),s("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("label",{attrs:{for:"email"}},[t._v("Email Address")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control form-control-lg",attrs:{id:"email",type:"email",name:"email",value:"",required:"",autofocus:""},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"form-control form-control-lg",attrs:{id:"password",type:"password",name:"password",required:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),s("button",{staticClass:"btn btn-dark btn-lg btn-block",attrs:{type:"submit"}},[t._v("Sign In")]),s("p",{staticClass:"forgot-password text-right mt-2 mb-4"},[s("router-link",{attrs:{to:"/forgot-password"}},[t._v("Forgot password ?")])],1),s("p",{staticClass:"signup"},[s("router-link",{attrs:{to:"/signup"}},[t._v("Don't have an account yet? Join us today!")])],1),t._m(0)])])])},x=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"social-icons"},[s("ul",[s("li",[s("a",{attrs:{href:"#"}},[s("i",{staticClass:"fa fa-google"})])]),s("li",[s("a",{attrs:{href:"#"}},[s("i",{staticClass:"fa fa-facebook"})])]),s("li",[s("a",{attrs:{href:"#"}},[s("i",{staticClass:"fa fa-twitter"})])])])])}],S={data:function(){return{form:{email:"",password:""},error:null,userid:""}},methods:{submit:function(){var t=this;c["a"].auth().signInWithEmailAndPassword(this.form.email,this.form.password).then((function(e){var s=e.user;t.userid=s.uid,alert(t.userid),t.$router.push({path:"/home"})})).catch((function(e){t.error=e.message})).onAuthStateChanged((function(t){t&&console.log(t.uid)}))}}},P=S,E=(s("71d3"),Object(d["a"])(P,C,x,!1,null,"5c6b7ce3",null)),$=E.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"welcome"}},[s("h1",{attrs:{id:"w"}},[t._v(t._s("Welcome back, "+t.home[0].username+"!"))]),t._v(" "),s("br"),s("div",{attrs:{id:"chart"}},[s("line-chart",{attrs:{height:200}})],1),s("div",{attrs:{id:"info"}},[s("ul",[s("li",[t._v("Start Date of Initiative "),s("p",[t._v(" userid is "+t._s(this.userid)+" ")]),s("h2",[t._v(t._s(t.home[0].startdate))])]),s("li",[t._v(" Number of Participants "),s("h2",[t._v(" "+t._s(t.home.length)+" ")])]),s("li",[t._v(" Total Plastic Bags Saved in SG "),s("br"),s("button",{on:{click:t.findTotalPlastic}},[t._v("Click to see value ")]),s("h2",[t._v(" "+t._s(t.totalPlastic+" G")+" ")])]),s("li",[t._v(" Total Weekly Target Plastic to Save"),s("br"),s("button",{on:{click:t.findTotalTarget}},[t._v("Click to see value ")]),s("h2",[t._v(" "+t._s(t.totalTarget+" G")+" ")])])])])])},N=[],O=(s("159b"),s("2f62"));a["a"].use(O["a"]);var D=new O["a"].Store({state:{user:{loggedIn:!1,data:null}},getters:{user:function(t){return t.user}},mutations:{SET_LOGGED_IN:function(t,e){t.user.loggedIn=e},SET_USER:function(t,e){t.user.data=e}},actions:{fetchUser:function(t,e){var s=t.commit;s("SET_LOGGED_IN",null!==e),s("SET_USER",e?{displayName:e.displayName,email:e.email}:null)}}}),I={apiKey:"AIzaSyDq6v-PEnsdSxHw8dsgjBKNjuSNHAorB4k",authDomain:"bt3103-finalproject-99e6a.firebaseapp.com",projectId:"bt3103-finalproject-99e6a",storageBucket:"bt3103-finalproject-99e6a.appspot.com",messagingSenderId:"662664852864",appId:"1:662664852864:web:3479d6204f657c716c7d65",measurementId:"G-LPW9W16K43"};c["a"].initializeApp(I),c["a"].auth().onAuthStateChanged((function(t){D.dispatch("fetchUser",t)}));var U=c["a"].firestore(),A=U,z=s("1fca"),q={extends:z["b"],data:function(){return{chartdata:{labels:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],datasets:[{label:"This week",data:[1.2,3,2.9,5.1,2.8,4.8,3.8],borderWidth:2.5,borderColor:"#004d99",backgroundColor:"#e6f3ff"},{label:"Last week",data:[3.3,2.3,3.2,1.8,4.1,3,2.5],borderWidth:2.5,borderColor:"#c2d6d6",fill:!1}]},options:{scales:{yAxes:[{ticks:{min:0}}]}}}},mounted:function(){this.renderChart(this.chartdata,this.options)}},R={components:{"line-chart":q},data:function(){return{home:[],totalPlastic:0,totalTarget:0,userd:""}},methods:{fetchItems:function(){var t=this;A.collection("users").get().then((function(e){var s={};e.forEach((function(e){s=e.data(),s.id=e.id,t.home.push(s)}))})),this.userid=c["a"].auth().currentUser.uid},findTotalPlastic:function(){this.totalPlastic=0;for(var t=0;t<this.home.length;t++)this.totalPlastic+=this.home[t].totalplastic},findTotalTarget:function(){this.totalTarget=0;for(var t=0;t<this.home.length;t++)this.totalTarget+=this.home[t].weeklygoal}},created:function(){this.fetchItems()}},M=R,W=(s("45cc"),Object(d["a"])(M,T,N,!1,null,"48fff768",null)),L=W.exports,G=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"profile"}},[s("div",{attrs:{id:"user"}},[s("img",{attrs:{src:"https://image.freepik.com/free-vector/man-profile-cartoon_18591-58482.jpg"}}),t._v(" "+t._s("userid is "+this.userid)+" "),s("h1",[t._v(" "+t._s(t.user[0].username)+" ")]),s("p1",[t._v(" "+t._s("MEMBER SINCE "+t.user[0].startdate)+" ")])],1),t._m(0),s("div",{attrs:{id:"pie1"}},[s("doughnut-chart",{attrs:{height:230}})],1),s("div",{attrs:{id:"lifetime"}},[s("h1",{attrs:{id:"l"}},[t._v("Lifetime Statistics")]),t._v(" "),s("br"),s("img",{attrs:{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTqrsTh0P06Y5o3PSd-4PKbuo-eS-ttZAtp8Us6brIytrxhq4WD15hlZzOOqD8vk7W6HmE&usqp=CAU",id:"img2"}}),s("h1",[t._v(" "+t._s(t.user[0].friends+" FRIENDS")+" ")])]),s("div",{attrs:{id:"plastic"}},[s("img",{attrs:{src:"https://image.flaticon.com/icons/png/512/2639/2639818.png",id:"img1"}}),s("h1",[t._v(" "+t._s(t.user[0].totalplastic+"G PLASTIC SAVED"))])])])},F=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"bar"}},[s("h1",{attrs:{id:"thisweek"}},[t._v("This Week ")])])}],H={extends:z["a"],data:function(){return{chartdata:{labels:["Progress to goal","Weekly goal"],datasets:[{label:"Ryan",data:[12.5,200],backgroundColor:["#40bf40","#d8f3d8"],borderWidth:0,borderColor:"#000"}]},options:{layout:{padding:{left:5,right:0,top:0,bottom:10}}}}},mounted:function(){this.renderChart(this.chartdata,this.options)}},B={components:{"doughnut-chart":H},data:function(){return{user:[],userid:""}},methods:{fetchItems:function(){var t=this;A.collection("users").get().then((function(e){var s={};e.forEach((function(e){s=e.data(),s.id=e.id,t.user.push(s)}))})),this.userid=c["a"].auth().currentUser.uid}},created:function(){this.fetchItems()}},Y=B,K=(s("bf5c"),Object(d["a"])(Y,G,F,!1,null,"64ec7d94",null)),Z=K.exports,J=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"leaderboard"}},[s("div",{staticClass:"header"},[s("img",{staticClass:"header__img",attrs:{src:"https://www.freeiconspng.com/thumbs/leaderboard-icon/leaderboard-icon-9.png"}}),s("div",{staticClass:"header__text"},[s("h1",[t._v(" Leaderboard ")]),t._m(0),t._v(" "+t._s(this.userid)+" ")])]),t._m(1),t._m(2),s("div",{staticClass:"sg"},[s("table",[t._m(3),t._l(t.sortArrays(t.sg),(function(e,a){return s("tr",{key:a},[s("td",{staticClass:"position"},[s("b",[t._v(t._s(a+1))])]),s("td",[t._v(t._s(e.username))]),s("td",[t._v(t._s(e.total_plastic))])])}))],2)]),s("div",{staticClass:"vl"}),s("div",{staticClass:"friends"},[s("table",[t._m(4),t._l(t.sortArrays(t.friends),(function(e,a){return s("tr",{key:a},[s("td",{staticClass:"position"},[s("b",[t._v(t._s(a+1))])]),s("td",[t._v(t._s(e.username))]),s("td",[t._v(t._s(e.total_plastic))])])}))],2)])])},Q=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",[s("i",[t._v(" Save more plastic to climb up the leaderboard! ")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"top10_sg"},[s("p",{attrs:{id:"textsg"}},[t._v("Top 10 "),s("br"),s("br"),s("br"),t._v(" Singapore")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"top10_friends"},[s("p",{attrs:{id:"textfriends"}},[t._v("Top 10 "),s("br"),s("br"),s("br"),t._v(" Friends")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[s("img",{staticClass:"rank_img",attrs:{src:"https://image.flaticon.com/icons/png/512/15/15643.png"}}),t._v(" Rank")]),s("th",[s("img",{staticClass:"user_img",attrs:{src:"https://i.pinimg.com/originals/0c/3b/3a/0c3b3adb1a7530892e55ef36d3be6cb8.png"}}),t._v(" User")]),s("th",[s("img",{staticClass:"plastic_img",attrs:{src:"https://cdn4.iconfinder.com/data/icons/plastic-bag/100/plastic_bag-06-512.png"}}),t._v(" Total Plastic Saved")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("tr",[s("th",[s("img",{staticClass:"rank_img",attrs:{src:"https://image.flaticon.com/icons/png/512/15/15643.png"}}),t._v(" Rank")]),s("th",[s("img",{staticClass:"user_img",attrs:{src:"https://i.pinimg.com/originals/0c/3b/3a/0c3b3adb1a7530892e55ef36d3be6cb8.png"}}),t._v(" User")]),s("th",[s("img",{staticClass:"plastic_img",attrs:{src:"https://cdn4.iconfinder.com/data/icons/plastic-bag/100/plastic_bag-06-512.png"}}),t._v(" Total Plastic Saved")])])}],V=(s("fb6a"),{data:function(){return{sg:[],friends:[],friends_username:[],userid:""}},methods:{fetchData:function(){var t=this,e=A.currentUser;e&&(this.userid=A.auth().currentUser.uid,A.collection("users").doc(e.uid).get().then((function(e){for(var s in t.friends_username=e.data().list_friend,t.friends_username)console.log(t.friends_username[s]),A.collection("users").where("username","==",t.friends_username[s]).get().then((function(e){e.forEach((function(e){var s=e.data().totalplastic;t.friends.push({username:e.data().username,total_plastic:s})}))}))}))),A.collection("users").get().then((function(e){e.docs.forEach((function(e){var s=e.data();console.log(s),t.sg.push({username:s.username,total_plastic:s.totalplastic})}))}))},louUserData:function(){var t=this,e=A.currentUser;if(e){this.login=!0;var s=e.uid;console.log("userid "+s),A.collection("users").doc(s).get().then((function(e){t.userData=e.data(),t.userData.id=e.id}))}},sortArrays:function(t){return t.sort((function(t,e){return e.total_plastic-t.total_plastic})).slice(0,10)}},created:function(){this.fetchData(),this.loadUserData()}}),X=V,tt=(s("eae9"),Object(d["a"])(X,J,Q,!1,null,"ae6b4a40",null)),et=tt.exports,st=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"rewards"}},[s("div",{staticClass:"pts_desc"},[s("h2",[t._v("You have ")]),s("b",{attrs:{id:"num_pts"}},[t._v(t._s(this.points))]),s("span",{attrs:{id:"pts"}},[t._v("Pts")])]),s("br"),s("br"),s("br"),s("div",{attrs:{id:"reward-types"}},[s("ul",t._l(t.rewards,(function(e,a){return s("li",{key:e.name},[s("img",{attrs:{src:e.url}}),s("h3",[t._v(t._s(e.name))]),s("h4",[t._v(t._s(e.value)+" points")]),s("br"),s("button",{attrs:{id:"redeem",reward:a},on:{click:function(e){return t.clicked(a)}}},[t._v("Redeem Pts")])])})),0)])])},at=[],rt=(s("b0c0"),s("260b")),nt={data:function(){return{points:0,rewards:[{name:"Gong Cha $3 voucher",value:500,url:"http://www.gong-cha-sg.com/wp-content/uploads/2017/11/1.png"},{name:"Seastainable Straw Set",value:500,url:"https://cdn.shopify.com/s/files/1/2505/0888/products/straw-silver_b6f94502-7a86-4ee9-8a62-04ec20208ce5_2048x.png?v=1563447283"},{name:"FairPrice $5 voucher",value:1e3,url:"https://oroinc.com/b2b-ecommerce/wp-content/uploads/sites/3/2019/07/fairprice-1500x1500-1.png"}],userid:""}},methods:{clicked:function(t){var e=this.rewards[t];if(this.points>=e.value){alert("Redemption successful. Take a photo of this page and show to the respective merchant");var s=this.points-e.value;A.collection("users").doc(this.userid).update({redeemed:rt["a"].firestore.FieldValue.arrayUnion(e.name)}),A.collection("users").doc(this.userid).update({points:s}),this.$router.push("History")}else alert("Redemption unsuccessful. Save more plastic!")},fetchData:function(){var t=this;this.userid=c["a"].auth().currentUser.uid,A.collection("users").doc(this.userid).get().then((function(e){t.points=e.data().points}))}},created:function(){this.fetchData()}},it=nt,ot=(s("0f8b"),Object(d["a"])(it,st,at,!1,null,"9dfb42ca",null)),ct=ot.exports,lt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"newslist"},[t._m(0),s("div",{staticClass:"container"},[s("ul",{staticClass:"media-list"},t._l(t.articles,(function(e){return s("li",{key:e.url,staticClass:"media"},[s("div",{staticClass:"media-left"},[s("a",{attrs:{href:e.url,target:"_blank"}},[s("img",{staticClass:"media-object",attrs:{src:e.urlToImage}})])]),s("div",{staticClass:"media-body"},[s("h4",{staticClass:"media-heading"},[s("a",{attrs:{href:e.url,target:"_blank"}},[t._v(t._s(e.title))])]),s("h5",[s("i",[t._v("by "+t._s(e.author))])]),s("p",[t._v(t._s(e.description))])])])})),0)])])},ut=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"announcements"},[s("h1",[t._v(" ANNOUNCEMENTS ")]),s("div",{staticClass:"announement-body"},[s("br"),s("h3",[t._v(" 31/03/2021 15:23")]),s("h2",[t._v(" GreenSG just got a new look! Now you can see how you rank against other Singaporeans ")]),s("br"),s("br"),s("h3",[t._v(" 15/03/2021 12:22")]),s("h2",[t._v(" Minor bug fixes ")]),s("br"),s("br"),s("h3",[t._v(" 20/02/2021 11:23")]),s("h2",[t._v(" We welcome Seastainable as our first sponsor. Now you can redeem Seastainable's metal straw set at only 500 points. ")]),s("br"),s("br"),s("h3",[t._v(" 29/01/2021 14:23")]),s("h2",[t._v(" Welcome to GreenSG. GreenSG is the first of its kind, a challenge to reducee plastic waste.")])])])}],dt=s("bc3a"),ft=s.n(dt),ht={name:"newslist",data:function(){return{articles:[]}},methods:{getData:function(){var t=this;ft.a.get("https://newsapi.org/v2/top-headlines?category=science&language=en&apiKey=04aa2326f23646caaaa6903108823610").then((function(e){t.articles=e.data.articles}))}},mounted:function(){this.getData()}},mt=ht,pt=(s("3f04"),Object(d["a"])(mt,lt,ut,!1,null,"9a92b5b0",null)),vt=pt.exports,bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"history"}},[s("h1",[t._v("Past Transctions")]),s("h2",[t._v("Your most recent reward redemptions ")]),s("br"),s("br"),s("h2",[t._v(" From Most Recent ")]),s("ul",t._l(t.redeemed,(function(e){return s("li",{key:e.id},[s("br"),s("h2",[t._v(t._s(e))]),s("br")])})),0)])},_t=[],gt={data:function(){return{redeemed:[],userid:""}},methods:{fetchData:function(){var t=this;this.userid=c["a"].auth().currentUser.uid,A.collection("users").doc(this.userid).get().then((function(e){t.redeemed=e.data().redeemed}))}},created:function(){this.fetchData()}},wt=gt,jt=(s("0710"),Object(d["a"])(wt,bt,_t,!1,null,"f82b291e",null)),yt=jt.exports,kt=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},Ct=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"help"}},[s("h1",[t._v("FAQs")]),s("h2",{attrs:{id:"question 1"}},[t._v("When can we see more rewards?"),s("br")]),s("p",{attrs:{id:"answer 1"}},[t._v(" We are constantly seeking out for more merchants to sponsor us"),s("br"),t._v(" Do look out for future updates!"),s("br"),t._v(" If you are a merchant and wish to contribute to rewards, please email us at sponsors@greensg.com"),s("br")]),s("h2",{attrs:{id:"question 2"}},[t._v(" How do I redeem the points I have accumulated?"),s("br")]),s("p",{attrs:{id:"answer 2"}},[t._v(" Please follow the instructions below:"),s("br"),t._v(' a) Tap on "Rewards" on the menu bar of the website.'),s("br"),t._v(' b) Tap "Redeem points" button.'),s("br"),t._v(" c) Choose which vouchers/coupons you would like to redeem."),s("br"),t._v(' d) Under the "Redeemed" tab you can now see your voucher/coupon code. Show this code to the merchant on your next purchase. ')]),s("h2",{attrs:{id:"question 3"}},[t._v("Do points expire?"),s("br")]),s("p",{attrs:{id:"answer 3"}},[t._v(" No, points do not expire. However, vouchers have a validation period of 4 weeks. ")]),s("em",{attrs:{id:"additional-queries"}},[t._v(" Still have questions? Contact us at help@greensg.com ")])])}],xt=(s("0509"),{}),St=Object(d["a"])(xt,kt,Ct,!1,null,"e176385c",null),Pt=St.exports,Et=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("img",{attrs:{src:"https://i.postimg.cc/4xwY4sR5/wolrd-environmental-day-copy-2.jpg",align:"left"}}),t.error?s("div",{staticClass:"alert alert-danger"},[t._v(t._s(t.error))]):t._e(),s("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.submit(e)}}},[s("div",{staticClass:"input_container"},[s("h3",[s("Strong",[t._v("Create Account")])],1),s("br"),s("label",{attrs:{for:"name"}},[t._v("Username:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.name,expression:"form.name"}],staticClass:"form-control form-control-lg",attrs:{id:"name",type:"name",name:"name",required:""},domProps:{value:t.form.name},on:{input:function(e){e.target.composing||t.$set(t.form,"name",e.target.value)}}}),s("label",{attrs:{for:"email"}},[t._v("Email Address:")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"form-control form-control-lg",attrs:{id:"email",type:"email",name:"email",required:""},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),s("label",{attrs:{for:"phone"}},[t._v("Phone Number: ")]),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.phone,expression:"form.phone"}],staticClass:"form-control form-control-lg",attrs:{id:"phone",type:"text",name:"phone",required:""},domProps:{value:t.form.phone},on:{input:function(e){e.target.composing||t.$set(t.form,"phone",e.target.value)}}}),s("label",{attrs:{for:"password"}},[t._v("Password")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",attrs:{id:"password",type:"password",name:"password",required:"",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"},domProps:{value:t.password},on:{input:[function(e){e.target.composing||(t.password=e.target.value)},t.checkPassword],click:function(e){return t.displayMsg()}}}),s("br"),s("ul",[s("li",{class:{is_valid:t.contains_eight_characters}},[t._v("8 Characters")]),s("li",{class:{is_valid:t.contains_number}},[t._v("Contains Number")]),s("li",{class:{is_valid:t.contains_uppercase}},[t._v("Contains Uppercase")]),s("li",{class:{is_valid:t.contains_special_character}},[t._v("Contains Special Character")])]),s("div",{staticClass:"checkmark_container",class:{show_checkmark:t.valid_password}},[s("svg",{attrs:{width:"50%",height:"50%",viewBox:"0 0 140 100"}},[s("path",{staticClass:"checkmark",class:{checked:t.valid_password},attrs:{d:"M10,50 l25,40 l95,-70"}})])]),s("button",{staticClass:"btn btn-success btn-lg btn-block",attrs:{type:"submit"}},[t._v("Sign Up")])])])])},$t=[],Tt={data:function(){return{form:{name:"",email:"",phone:""},error:null,password:"",password_length:0,contains_eight_characters:!1,contains_number:!1,contains_uppercase:!1,contains_special_character:!1,valid_password:!1}},methods:{checkPassword:function(){this.password_length=this.password.length;var t=/[ !@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/;this.password_length>8?this.contains_eight_characters=!0:this.contains_eight_characters=!1,this.contains_number=/\d/.test(this.password),this.contains_uppercase=/[A-Z]/.test(this.password),this.contains_special_character=t.test(this.password),!0===this.contains_eight_characters&&!0===this.contains_special_character&&!0===this.contains_uppercase&&!0===this.contains_number?this.valid_password=!0:this.valid_password=!1},submit:function(){var t=this;c["a"].auth().createUserWithEmailAndPassword(this.form.email,this.password).then((function(e){var s=e.user,a=s.uid;c["a"].firestore().collection("users").doc(a).set({email:t.form.email,friends:0,list_friend:[],password:t.password,phone:t.form.phone,points:0,startdate:t.startdate,thisweek:0,totalplastic:0,username:t.form.name,weeklygoal:0}),alert("Successfully signed up! Please login."),t.$router.push("/login")})).catch((function(t){var e=t.code,s=t.message;"auth/weak-password"==e?alert("The password is too weak."):alert(s),console.log(t)}))},getStartDate:function(){var t=new Date,e=t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate();this.startdate=e}},mounted:function(){this.getStartDate()}},Nt=Tt,Ot=(s("44ce"),Object(d["a"])(Nt,Et,$t,!1,null,"0a921cdb",null)),Dt=Ot.exports,It=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"reset"},[s("form",[s("h3",[s("Strong",[t._v("Forgot Password")])],1),s("br"),t._m(0),s("button",{staticClass:"btn btn-success btn-lg btn-block",attrs:{type:"submit"}},[t._v("Reset password")])])])},Ut=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("label",[t._v("Email Address")]),s("input",{staticClass:"form-control form-control-lg",attrs:{type:"email"}})])}],At={data:function(){return{}}},zt=At,qt=(s("7c64"),Object(d["a"])(zt,It,Ut,!1,null,"3eab6b7c",null)),Rt=qt.exports,Mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("img",{staticStyle:{width:"200px"},attrs:{src:s("cf05"),alt:"not found"}}),a("div",{staticClass:"login"},[a("form",[a("h3",[a("Strong",[t._v("MERCHANT PORTAL")])],1),a("br"),a("div",{staticClass:"form-group"},[a("label",[t._v("ID")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"form-control form-control-lg",attrs:{type:"id"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",[t._v("Password")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control form-control-lg",attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),a("button",{staticClass:"btn btn-dark btn-lg btn-block",attrs:{type:"submit"},on:{click:function(e){return t.checkPassword()}}},[t._v("Sign In")]),a("p",{staticClass:"forgot-password text-right mt-2 mb-4"},[a("router-link",{attrs:{to:"/forgot-password"}},[t._v("Forgot password ?")])],1)])])])},Wt=[],Lt={data:function(){return{id:"",password:"",authenticated:!1,users:[]}},methods:{fetchItem:function(){var t=this;A.collection("merchants").get().then((function(e){var s={};e.forEach((function(e){s=e.data(),s.id=e.id,t.users.push([s.id,s])}))}))},checkPassword:function(){for(var t=0;t<this.users.length;t++){var e=this.users[t];e[0]==this.id&&e[1].password==this.password&&(this.authenticated=!0)}1==this.authenticated?this.$router.push("merchant-inputs"):alert("Invalid credentials entered!")}},created:function(){this.fetchItem()}},Gt=Lt,Ft=(s("6579"),Object(d["a"])(Gt,Mt,Wt,!1,null,"5cc2f534",null)),Ht=Ft.exports,Bt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("img",{attrs:{src:"https://i.postimg.cc/4xwY4sR5/wolrd-environmental-day-copy-2.jpg",align:"left"}}),s("form",{ref:"anyName",attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.addPoints(e)}}},[s("div",{staticClass:"input_container"},[s("h3",[s("Strong",[t._v("Add Customer Points")])],1),s("br"),s("label",{attrs:{for:"phone"}},[t._v("Phone Number: ")]),s("br"),s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control form-control-lg",attrs:{type:"text",id:"phone",required:""},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),""!=t.phone?s("p",[t._v(t._s("Username is "+this.username))]):t._e(),s("br"),s("br"),s("label",{attrs:{for:"points"}},[t._v("Points Earned: ")]),s("br"),s("input",{directives:[{name:"model",rawName:"v-model.number",value:t.new_points,expression:"new_points",modifiers:{number:!0}}],staticClass:"form-control form-control-lg",attrs:{type:"number",required:""},domProps:{value:t.new_points},on:{click:function(e){return t.checkPhone()},input:function(e){e.target.composing||(t.new_points=t._n(e.target.value))},blur:function(e){return t.$forceUpdate()}}}),s("br"),t._m(0),t._m(1),s("br"),s("button",{staticClass:"btn btn-success btn-lg btn-block",attrs:{type:"submit"},on:{click:function(e){return t.addPoints()}}},[t._v("Submit")]),s("br")])])])},Yt=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{attrs:{id:"allocation"}},[s("b",[t._v("Information on points allocation")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",{attrs:{id:"info"}},[s("tr",[s("th",[t._v("Item")]),s("th",[t._v("Quantity")]),s("th",[t._v("Amount of Points")])]),s("tr",[s("td",[t._v("Straw")]),s("td",[t._v("1")]),s("td",[t._v("5")])]),s("tr",[s("td",[t._v("Plastic Bag")]),s("td",[t._v("1")]),s("td",[t._v("10")])]),s("tr",[s("td",[t._v("Plastic Container")]),s("td",[t._v("1")]),s("td",[t._v("20")])])])}],Kt={data:function(){return{phone:"",users:[],username:"",sameNumber:!1,new_points:0,id:"",curr_points:null,curr_plastic:null}},methods:{fetchItem:function(){var t=this;A.collection("users").get().then((function(e){var s={};e.forEach((function(e){s=e.data(),s.id=e.id,t.users.push([s.id,s])}))}))},checkPhone:function(){for(var t=0;t<this.users.length;t++){var e=this.users[t];e[1].phone==this.phone&&(this.sameNumber=!0,this.username=e[1].username,this.id=e[0],this.curr_points=e[1].points,this.curr_plastic=e[1].totalplastic)}0==this.sameNumber&&(this.username="not found")},addPoints:function(){if(0==this.sameNumber)alert("Invalid phone number!"),this.$router.push("/merchant-inputs");else{var t=this.curr_points+this.new_points;A.collection("users").doc(this.id).update({points:t,totalplastic:this.curr_plastic+this.new_points}),alert("Successfully added points!"),this.username="",this.new_points=0,this.$refs.anyName.reset()}}},created:function(){this.fetchItem()}},Zt=Kt,Jt=(s("fe8c"),Object(d["a"])(Zt,Bt,Yt,!1,null,"987d9ef2",null)),Qt=Jt.exports,Vt=[{path:"/",component:k},{path:"/home",component:L},{path:"/profile",component:Z},{path:"/leaderboard",component:et},{path:"/rewards",component:ct},{path:"/newsroom",component:vt},{path:"/history",component:yt,name:"history"},{path:"/help",component:Pt},{path:"/login",component:$},{path:"/signup",component:Dt},{path:"/forgot-password",component:Rt},{path:"/merchant-login",component:Ht},{path:"/merchant-inputs",component:Qt}],Xt=(s("ab8b"),s("8c4f"));a["a"].config.productionTip=!1,a["a"].config.productionTip=!1,a["a"].use(Xt["a"]);var te=new Xt["a"]({routes:Vt,mode:"history"});new a["a"]({render:function(t){return t(b)},router:te}).$mount("#app")},5796:function(t,e,s){},6579:function(t,e,s){"use strict";s("5796")},"70b6":function(t,e,s){},"71d3":function(t,e,s){"use strict";s("d702")},7286:function(t,e,s){"use strict";s("0ed3")},"72c6":function(t,e,s){t.exports=s.p+"img/merchant-icon.48434853.png"},"7c64":function(t,e,s){"use strict";s("1cf7")},"85ec":function(t,e,s){},"8dcf":function(t,e,s){},"9a99":function(t,e,s){"use strict";s("114e")},a2a3:function(t,e,s){},a2e0:function(t,e,s){},bf5c:function(t,e,s){"use strict";s("3ea9")},c28f:function(t,e,s){},cf05:function(t,e,s){t.exports=s.p+"img/logo.066da0e4.png"},d702:function(t,e,s){},e4b8:function(t,e,s){},eae9:function(t,e,s){"use strict";s("c28f")},eb78:function(t,e,s){},fe8c:function(t,e,s){"use strict";s("a2a3")}});
//# sourceMappingURL=app.5df25e4c.js.map